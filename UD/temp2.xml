<?xml version="1.0" encoding="UTF-8" ?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>de.icongmbh.dopix.development</groupId>
    <artifactId>de.icongmbh.dopix.development.java.api</artifactId>
    <version>8.13.13</version>
  </parent>
  
  <groupId>de.icongmbh.dopix.stacc.database</groupId>
  <artifactId>de.icongmbh.dopix.stacc.database.scripts</artifactId>
  <version>20.0.0-SNAPSHOT</version>
  <packaging>jar</packaging>
  <name>icon :: DOPiX :: Stacc :: Database :: Scripts</name>
  <description>DOPiX/Stacc database schema definition scripts</description>
  <url>${icon.artifact.site.url}/</url>
  <distributionManagement>
    <site>
      <id>distribution-icon-development-snapshots</id>
      <name>icon Systemhaus Internal Maven Sites</name>
      <url>dav:${icon.artifact.site.url}/</url>
    </site>
  </distributionManagement>
  <scm>
    <connection>${icon.scm.connection.baseUrl}/${icon.scm.connection.organization}/dopix-products/dopix.stacc</connection>
    <tag>HEAD</tag>
  </scm>
  <properties>
    <sql-maven-plugin.version>1.5</sql-maven-plugin.version>
    <com.microsoft.sqlserver.jdbc.version>6.4.0</com.microsoft.sqlserver.jdbc.version>
    <com.ibm.jcc.version>4.21.29</com.ibm.jcc.version>
    <oracle.jdbc.version>12.1.0.1.0</oracle.jdbc.version>
    <sql.db.classifier.mssql>mssql</sql.db.classifier.mssql>
    <sql.db.classifier.db2luw>db2luw</sql.db.classifier.db2luw>
    <sql.db.classifier.oracle>oracle</sql.db.classifier.oracle>
    <sql.db.classifier.db2zos>db2zos</sql.db.classifier.db2zos>
    <sql.db.classifier.db2luw.migration>db2luw-migration</sql.db.classifier.db2luw.migration>
    <sql.db.classifier.oracle.migration>oracle-migration</sql.db.classifier.oracle.migration>
    <sql.db.classifier.mssql.migration>mssql-migration</sql.db.classifier.mssql.migration>
    <sql.db.classifier.db2zos.migration>db2zos-migration</sql.db.classifier.db2zos.migration>
    <resourcesSourceDirectory>src/main/resources/</resourcesSourceDirectory>
    <assemblyDirectory>src/main/assembly/</assemblyDirectory>
    <resourcesTestDirectory>src/test/resources/</resourcesTestDirectory>
  </properties>
  <build>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>sql-maven-plugin</artifactId>
        <version>${sql-maven-plugin.version}</version>
        <dependencies>
          <dependency>
            <groupId>com.microsoft.sqlserver</groupId>
            <artifactId>com.microsoft.sqlserver.jdbc</artifactId>
            <version>${com.microsoft.sqlserver.jdbc.version}</version>
          </dependency>
          <dependency>
            <groupId>com.ibm</groupId>
            <artifactId>com.ibm.jcc</artifactId>
            <version>${com.ibm.jcc.version}</version>
          </dependency>
          <dependency>
            <groupId>com.ibm</groupId>
            <artifactId>com.ibm.jcc</artifactId>
            <version>${com.ibm.jcc.version}</version>
            <classifier>license_cisuz</classifier>
          </dependency>
          <dependency>
            <groupId>com.ibm</groupId>
            <artifactId>com.ibm.jcc</artifactId>
            <version>${com.ibm.jcc.version}</version>
            <classifier>license_cu</classifier>
          </dependency>
          <dependency>
            <groupId>oracle</groupId>
            <artifactId>oracle.jdbc</artifactId>
            <version>${oracle.jdbc.version}</version>
          </dependency>
        </dependencies>
        <configuration>
          <autocommit>true</autocommit>
        </configuration>
        <executions>
          <!-- testing ${sql.db.classifier.oracle} -->
          <!--
          <execution>
            <id>${sql.db.classifier.oracle}-drop-objects-before-test-if-any</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>oracle.jdbc.driver.OracleDriver</driver>
              <url>jdbc:oracle:thin:@db-oracle2.icongmbh.de:1521/pdborca</url>
              <username>pdbadmin</username>
              <password>Icsrvm23</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/drop_user.sql</srcFile>
              </srcFiles>
              <onError>continue</onError>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.oracle}-create-user-before-test</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>oracle.jdbc.driver.OracleDriver</driver>
              <url>jdbc:oracle:thin:@db-oracle2.icongmbh.de:1521/pdborca</url>
              <username>pdbadmin</username>
              <password>Icsrvm23</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/create_user.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.oracle}-create-schema</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>oracle.jdbc.driver.OracleDriver</driver>
              <url>jdbc:oracle:thin:@db-oracle2.icongmbh.de:1521/pdborca</url>
              <username>DOPIXSTACC</username>
              <password>dope</password>
              <srcFiles>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.oracle}/01_create_tables.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/grants.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.oracle}/upgrade/4.x.x/01_fix_cb1016232.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.oracle}-drop-user-after-test</id>
            <phase>test</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>oracle.jdbc.driver.OracleDriver</driver>
              <url>jdbc:oracle:thin:@db-oracle2.icongmbh.de:1521/pdborca</url>
              <username>pdbadmin</username>
              <password>Icsrvm23</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/drop_user.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
          -->
          <!-- Migration legacy to hibernate, oracle --> 
          <!--
          <execution>
            <id>${sql.db.classifier.oracle.migration}-drop-objects-before-test-if-any</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>oracle.jdbc.driver.OracleDriver</driver>
              <url>jdbc:oracle:thin:@db-oracle2.icongmbh.de:1521/pdborca</url>
              <username>pdbadmin</username>
              <password>Icsrvm23</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/migration/legacy/drop_stacc_tables.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/drop_user.sql</srcFile>
              </srcFiles>
              <onError>continue</onError>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.oracle.migration}-create-user-before-test</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>oracle.jdbc.driver.OracleDriver</driver>
              <url>jdbc:oracle:thin:@db-oracle2.icongmbh.de:1521/pdborca</url>
              <username>pdbadmin</username>
              <password>Icsrvm23</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/create_user.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.oracle.migration}-create-schema</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>oracle.jdbc.driver.OracleDriver</driver>
              <url>jdbc:oracle:thin:@db-oracle2.icongmbh.de:1521/pdborca</url>
              <username>pdbadmin</username>
              <password>Icsrvm23</password>
               <keepFormat>false</keepFormat>
              <delimiter>/</delimiter>
              <delimiterType>row</delimiterType>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/migration/legacy/staccdb.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/migration/legacy/initstaccdb.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.oracle}/migration/legacy/grantstaccdb.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.oracle}/migration/legacy_to_hibernate.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
            -->
          <!-- Migration legacy to hibernate, mssql -->
          <execution>
            <id>${sql.db.classifier.mssql.migration}-drop-objects-before-test-if-any</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver>
              <url>jdbc:sqlserver://db-mssql2016.icongmbh.de:1433;databaseName=dopixstaccdb</url>
              <delimiter>GO</delimiter>
              <delimiterType>row</delimiterType>
              <username>msadmin</username>
              <password>icon2005</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/migration/legacy/drop_stacc_tables.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/drop-constraints.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/drop-tables.sql</srcFile>
              </srcFiles>
              <onError>continue</onError>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.mssql.migration}-create-schema</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver>
              <url>jdbc:sqlserver://db-mssql2016.icongmbh.de:1433;databaseName=dopixstaccdb</url>
              <delimiter>GO</delimiter>
              <delimiterType>row</delimiterType>
              <username>dopixstacc</username>
              <password>dope2005</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/migration/legacy/staccdb.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/migration/legacy/initstaccdb.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/migration/legacy/grantstaccdb.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.mssql}/migration/01_dropconstraints.sql</srcFile>               
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.mssql}/migration/02_legacy_to_hibernate.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.mssql}/upgrade/4.x.x/01_fix_cb1016232.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.mssql}/upgrade/5.1.0/01_create_hibernate_sequence.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.mssql.migration}-drop-objects-after-test</id>
            <phase>test</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver>
              <url>jdbc:sqlserver://db-mssql2016.icongmbh.de:1433;databaseName=dopixstaccdb</url>
              <delimiter>GO</delimiter>
              <delimiterType>row</delimiterType>
              <username>msadmin</username>
              <password>icon2005</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/drop-constraints.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/drop-tables.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>   
          <!--test for db2zos -->
          <execution>
            <id>${sql.db.classifier.db2zos}-drop-objects-before-test-if-any</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://db-db2zos.icongmbh.de:9810/DBCGLU1:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>ICONDBA</username>
              <password>ICONDBA</password>
              <srcFiles>
               <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/drop.sql</srcFile>
                 <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/drop_database.sql</srcFile>
                </srcFiles>
              <onError>continue</onError>
            </configuration>
          </execution>

          <execution>
            <id>${sql.db.classifier.db2zos}-create-schema</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
               <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://db-db2zos.icongmbh.de:9810/DBCGLU1:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>ICONDBA</username>
              <password>ICONDBA</password>
              <srcFiles>
                   
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2zos}/01_create_tablespaces.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2zos}/02_create_tables.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2zos}/03_grants.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2zos}/upgrade/4.x.x/01_fix_cb1016232.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
		  
          <execution>
            <id>${sql.db.classifier.db2zos}-drop-user-after-test</id>
            <phase>test</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://db-db2zos.icongmbh.de:9810/DBCGLU1:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>ICONDBA</username>
              <password>ICONDBA</password>
              <srcFiles>
                 <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/drop.sql</srcFile>
                 <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/drop_database.sql</srcFile>
               </srcFiles>
            </configuration>
          </execution>
           <!-- Migration legacy to hibernate, db2zos -->
           <!-- Migration legacy to hibernate, db2zos -->
          <execution>
            <id>${sql.db.classifier.db2zos.migration}-drop-objects-before-test-if-any</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://db-db2zos.icongmbh.de:9810/DBCGLU1:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>ICONDBA</username>
              <password>ICONDBA</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/migration/legacy/drop_stacc_tables.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/migration/legacy/drop_temptab.sql</srcFile>
              </srcFiles>
              <onError>continue</onError>
            </configuration>
          </execution>

          <execution>
            <id>${sql.db.classifier.db2zos.migration}-create-schema</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
               <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://db-db2zos.icongmbh.de:9810/DBCGLU1:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>ICONDBA</username>
              <password>ICONDBA</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/migration/legacy/create_tablespaces_stacc.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/migration/legacy/create_tables_stacc.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/migration/legacy/initstaccdb.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/migration/legacy/grant_stacc.sql</srcFile>
                <!--  srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/migration/legacy/insert_data.sql</srcFile -->
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2zos}/migration/02_legacy_to_hibernate.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2zos}/migration/03_legacy_to_hibernate.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2zos}/migration/04_legacy_to_hibernate_cleanup.sql</srcFile>
                <!-- Script does not run because it uses another schema -->
                <!-- srcFile>${resourcesSourceDirectory}${sql.db.classifier.mssql}/upgrade/5.1.0/01_create_hibernate_sequence.sql</srcFile -->

              </srcFiles>
            </configuration>
          </execution>
          
          <execution>
            <id>${sql.db.classifier.db2zos.migration}-drop-user-after-test</id>
            <phase>test</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://db-db2zos.icongmbh.de:9810/DBCGLU1:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>ICONDBA</username>
              <password>ICONDBA</password>
              <srcFiles>
               <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2zos}/migration/legacy/drop_stacc_tables.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.mssql}-drop-objects-before-test-if-any</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver>
              <url>jdbc:sqlserver://db-mssql2016.icongmbh.de:1433;databaseName=dopixstaccdb</url>
              <delimiter>GO</delimiter>
              <delimiterType>row</delimiterType>
              <username>msadmin</username>
              <password>icon2005</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/drop-constraints.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/drop-tables.sql</srcFile>
              </srcFiles>
              <onError>continue</onError>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.mssql}-create-schema</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver>
              <url>jdbc:sqlserver://db-mssql2016.icongmbh.de:1433;databaseName=dopixstaccdb</url>
              <delimiter>GO</delimiter>
              <delimiterType>row</delimiterType>
              <username>dopixstacc</username>
              <password>dope2005</password>
              <srcFiles>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.mssql}/01_create_tables.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.mssql}/upgrade/4.x.x/01_fix_cb1016232.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.mssql}-drop-objects-after-test</id>
            <phase>test</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver>
              <url>jdbc:sqlserver://db-mssql2016.icongmbh.de:1433;databaseName=dopixstaccdb</url>
              <delimiter>GO</delimiter>
              <delimiterType>row</delimiterType>
              <username>msadmin</username>
              <password>icon2005</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.mssql}/drop-constraints.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
         
          <!-- testing ${sql.db.classifier.db2luw} -->
          <execution>
            <id>${sql.db.classifier.db2luw}-drop-objects-before-test-if-any</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://icw2k19hv06.icongmbh.de:50000/STACCDB:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>db2admin</username>
              <password>IconDBA$2024IconDBA</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/migration/legacy/drop_stacc_tables.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/drop_schema.sql</srcFile>
              </srcFiles>
              <onError>continue</onError>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.db2luw}-prepare-database-before-test</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://icw2k19hv06.icongmbh.de:50000/STACCDB:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>db2admin</username>
              <password>IconDBA$2024IconDBA</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/create_grant_schema.sql</srcFile>
              </srcFiles>
              <onError>continue</onError>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.db2luw}-create-schema</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://icw2k19hv06.icongmbh.de:50000/STACCDB:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>dopix</username>
              <password>dop_2005</password>
              <srcFiles>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2luw}/01_create_tables.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2luw}/02_grants.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2luw}/upgrade/4.x.x/01_fix_cb1016232.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.db2luw}-drop-objects-after-test</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://icw2k19hv06.icongmbh.de:50000/STACCDB:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>db2admin</username>
              <password>IconDBA$2024IconDBA</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/drop_schema.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
           <!-- Migration legacy to hibernate, db2luw -->
          <execution>
          <id>${sql.db.classifier.db2luw.migration}-drop-objects-before-test-if-any</id>
          <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://icw2k19hv06.icongmbh.de:50000/STACCDB:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>db2admin</username>
              <password>IconDBA$2024IconDBA</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/migration/legacy/drop_stacc_tables.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/drop_schema.sql</srcFile>
              </srcFiles>
              <onError>continue</onError>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.db2luw.migration}-create-schema</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://icw2k19hv06.icongmbh.de:50000/STACCDB:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>dopix</username>
              <password>dop_2005</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/migration/legacy/staccdb.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/migration/legacy/initstaccdb.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/migration/legacy/grantstaccdb.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2luw}/migration/legacy_to_hibernate.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2luw}/upgrade/5.1.0/01_create_hibernate_sequence.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2luw}/02_grants.sql</srcFile>
                <srcFile>${resourcesSourceDirectory}${sql.db.classifier.db2luw}/upgrade/4.x.x/01_fix_cb1016232.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
          <execution>
            <id>${sql.db.classifier.db2luw.migration}-drop-objects-after-test</id>
            <phase>process-test-resources</phase>
            <goals>
              <goal>execute</goal>
            </goals>
            <configuration>
              <driver>com.ibm.db2.jcc.DB2Driver</driver>
              <url>jdbc:db2://icw2k19hv06.icongmbh.de:50000/STACCDB:currentSchema=DOPIXSTACC;clientProgramName=DOPiX/Stacc;</url>
              <username>db2admin</username>
              <password>IconDBA$2024IconDBA</password>
              <srcFiles>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/migration/legacy/drop_hibernate_unique_key.sql</srcFile>
                <srcFile>${resourcesTestDirectory}${sql.db.classifier.db2luw}/drop_schema.sql</srcFile>
              </srcFiles>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <artifactId>maven-assembly-plugin</artifactId>
        <configuration>
          <outputDirectory>${project.build.directory}</outputDirectory>
          <descriptors>
            <descriptor>${assemblyDirectory}${sql.db.classifier.mssql}.xml</descriptor>
            <descriptor>${assemblyDirectory}${sql.db.classifier.db2luw}.xml</descriptor>
            <descriptor>${assemblyDirectory}${sql.db.classifier.db2zos}.xml</descriptor>
            <descriptor>${assemblyDirectory}${sql.db.classifier.oracle}.xml</descriptor>
          </descriptors>
        </configuration>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>single</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <!-- deploy SQL scripts into maven repository -->
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>build-helper-maven-plugin</artifactId>
        <executions>
          <execution>
            <id>attach:${sql.db.classifier.mssql}</id>
            <phase>deploy</phase>
            <goals>
              <goal>attach-artifact</goal>
            </goals>
            <configuration>
              <artifacts>
                <artifact>
                  <file>${project.build.directory}/{$finalName}-${sql.db.classifier.mssql}.zip</file>
                  <type>zip</type>
                  <classifier>${sql.db.classifier.mssql}</classifier>
                </artifact>
              </artifacts>
            </configuration>
          </execution>
          <execution>
            <id>attach:${sql.db.classifier.db2luw}</id>
            <phase>deploy</phase>
            <goals>
              <goal>attach-artifact</goal>
            </goals>
            <configuration>
              <artifacts>
                <artifact>
                  <file>${project.build.directory}/{$finalName}-${sql.db.classifier.db2luw}.zip</file>
                  <type>zip</type>
                  <classifier>${sql.db.classifier.db2luw}</classifier>
                </artifact>
              </artifacts>
            </configuration>
          </execution>
          <execution>
            <id>attach:${sql.db.classifier.db2zos}</id>
            <phase>deploy</phase>
            <goals>
              <goal>attach-artifact</goal>
            </goals>
            <configuration>
              <artifacts>
                <artifact>
                  <file>${project.build.directory}/{$finalName}-${sql.db.classifier.db2zos}.zip</file>
                  <type>zip</type>
                  <classifier>${sql.db.classifier.db2zos}</classifier>
                </artifact>
              </artifacts>
            </configuration>
          </execution>
          <execution>
            <id>attach:${sql.db.classifier.oracle}</id>
            <phase>deploy</phase>
            <goals>
              <goal>attach-artifact</goal>
            </goals>
            <configuration>
              <artifacts>
                <artifact>
                  <file>${project.build.directory}/{$finalName}-${sql.db.classifier.oracle}.zip</file>
                  <type>zip</type>
                  <classifier>${sql.db.classifier.oracle}</classifier>
                </artifact>
              </artifacts>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <!-- deactivate proguard-maven-plugin -->
      <plugin>
        <groupId>com.github.wvengen</groupId>
        <artifactId>proguard-maven-plugin</artifactId>
        <configuration>
          <skip>true</skip>
        </configuration>
      </plugin>
      <plugin>
        <groupId>com.google.code.maven-replacer-plugin</groupId>
        <artifactId>replacer</artifactId>
        <configuration>
          <commentsEnabled>false</commentsEnabled>
        </configuration>
        <executions>
          <execution>
            <!-- Replace placeholder ###BUILDINFORMATION### with currentartifact information in all text files. -->
            <id>insert: artifact information into text files</id>
            <phase>prepare-package</phase>
            <goals>
              <goal>replace</goal>
            </goals>
            <configuration>
              <includes>
                <include>${project.build.outputDirectory}/**/*.txt</include>
              </includes>
              <replacements>
                <replacement>
                  <token>###BUILDINFORMATION###</token>
                  <value>${project.groupId}:${project.artifactId}:${buildNumber}</value>
                </replacement>
              </replacements>
            </configuration>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  <ciManagement>
    <system>jenkins</system>
    <url>http://build-server-new.icongmbh.de:8080/job/ci_de.icongmbh.dopix.stacc.database.scripts/</url>
  </ciManagement>
</project>
